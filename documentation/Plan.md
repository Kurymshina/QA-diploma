# План автоматизации тестирования веб-сервиса
### Задача:
Автоматизировать сценарии комплексного сервиса, взаимодействующего с СУБД и API Банка.

## Перечень автоматизируемых сценариев;
 #### Требования к полям формы карты (валидные данные):
* Поле "Номер карты":
  + Цифры 
  + Длина 16 символов
  + Поле обязательно для заполнения
* Поле "Месяц":
  + Цифры
  + Длина 2 символа
  + Диапазон значений от текущего месяца даты текущего года до даты через пять лет от текущего года включительно(от 01 до 12 включительно).
  + Поле обязательно для заполнения
* Поле "Год":
  + Цифры;
  + Длина 2 символа
  + Диапазон значений от текущего года до +5 лет включительно к текущему году (от 24 до 29 включительно для текущего 2024 года).
  + Поле обязательно для заполнения
* Поле "Владелец":
  + Буквы латинского алфавита в верхнем или нижнем регистре (A-Z)
  + Допустимы спецсимволы: 
    + Пробелы, 
    + Дефисы (-), 
    + Точки (.)
  + Длина значения от 2 до 24 символов
  + Поле обязательно для заполнения
* Поле "CVV":
  + Цифры
  + Длина значения 3 символа
  + Диапазон значений от 001 до 999
  + Поле обязательно для заполнения
#### Позитивные сценарии
1. Покупка тура валидной картой с помощью кнопки "Купить" со статусом "APPROVED". *Ожидаемый результат: Появление всплывающего окна "Операция одобрена Банком", запись со статусом "APPROVED" в базе данных.*
3. Покупка тура в кредит с валидной картой с помощью кнопки "Купить в кредит" со статусом "APPROVED": *Ожидаемый результат: Появление всплывающего окна "Операция одобрена Банком", запись со статусом "APPROVED" в базе данных.*
#### Негативные сценарии
##### При покупке тура с помощью кнопки "Купить"
1. Ввод невалидного номера карты при покупке тура.(Длинна менее 16 символов) *Ожидаемый результат: Появление сообщения об ошибке "Неверный формат", запрос не отправляется.*
2. Ввод карты c истекшим сроком действия при покупке тура. (Ввод даты раньше текущей даты) *Ожидаемый результат: Появление сообщения об ошибке "Истёк срок действия карты", запрос не отправляется.*
3. Ввод даты с невалидным месяцем действия карты при покупке тура.  *Ожидаемый результат: Появление сообщения об ошибке "Неверно указан срок действия карты", запрос не отправляется.*
4. Ввод невалидного CVV-кода при покупке тура. *Ожидаемый результат: Появление сообщения об ошибке "Неверный формат", запрос не отправляется.*
5. Ввод невалидного имени владельца карты при покупке тура. *Ожидаемый результат: Появление сообщения об ошибке "Неверный формат", запрос не отправляется.*
6. Отсутствие заполнения обязательных полей формы карты при покупке тура. *Ожидаемый результат: Появление сообщения об ошибке "Поле обязательно для заполнения", запрос не отправляется.*
7. Попытка оплаты валидной картой со статусом "DECLINED": *Ожидаемый результат: Появление всплывающего окна "Ошибка! Банк отказал в проведении операции", запись со статусом "DECLINED" в базе данных.*

##### При покупке тура с помощью кнопки "Купить в кредит"
1. Ввод невалидного номера карты при покупке тура в кредит. (Длинна менее 16 символов) *Ожидаемый результат: Появление сообщения об ошибке "Неверный формат", запрос не отправляется.*
2. Ввод карты c истекшим сроком действия при покупке тура в кредит. (Ввод даты раньше текущей даты)  *Ожидаемый результат: Появление сообщения об ошибке "Истёк срок действия карты", запрос не отправляется.*
3. Ввод даты с невалидным месяцем действия карты при покупке тура в кредит.  *Ожидаемый результат: Появление сообщения об ошибке "Неверно указан срок действия карты", запрос не отправляется.*
4. Ввод невалидного CVV-кода при покупке тура в кредит. *Ожидаемый результат: Появление сообщения об ошибке "Неверный формат", запрос не отправляется.*
5. Ввод невалидного имени владельца карты при покупке тура в кредит. *Ожидаемый результат: Появление сообщения об ошибке "Неверный формат", запрос не отправляется.*
6. Отсутствие заполнения обязательных полей формы карты при покупке тура в кредит. *Ожидаемый результат: Появление сообщения об ошибке "Поле обязательно для заполнения", запрос не отправляется.*
7. Попытка оплаты валидной картой со статусом "DECLINED": *Ожидаемый результат: Появление всплывающего окна "Ошибка! Банк отказал в проведении операции", запись со статусом "DECLINED" в базе данных.*

## Перечень используемых инструментов с обоснованием выбора
+ Браузер __Google Chrome__ *Удобный браузер который необходим при запуске тестов Selenide для наглядного просмотра шагов автотестов.*

+ Система контроля версий __Git__ *Распределенная система с помощью которой удобно контролировать версии.*

+ Веб-сервис для использования системы контроля версий __GitHub__
  *Обеспечивает централизованное хранение кода автотестов и настроек окружения. Возможность для автоматической интеграции с CI системами и автоматического запуска тестов при изменении кода.*
+ Cреда разработки (IDE) __IntelliJ IDEA__
  *Удобная среда для разработки на Java.*
+ Язык программирования __Java 11__
  *Имеет обширную библиотеку, которая включает в себя множество инструментов и фреймворков для тестирования.*
+ Фреймворки автоматизации:

  + __Selenide__
  *Использует библиотеку Selenium WebDriver для управления браузером и выполнения действий на веб-страницах, а также предоставляет удобный API для написания тестов на Java.*

  + __JUnit5__
  *Предоставляет набор необходимых аннотаций, методов и классов, которые позволяют создавать и автоматически запускать тесты. Последняя версия фреймворка JUnit и включает в себя множество новых функций и улучшений по сравнению с предыдущими версиями.*
+ Сборщик проектов __Gradle__
  *Использует инкрементальную сборку, что означает, что он пересобирает только те части проекта, которые были изменены. Это ускоряет процесс сборки и экономит время.*
+ Контейнеризация __Docker__
  *Необходим для имитации работы веб-сервиса с базами данных для проверки ожидаемых результатов или извлечения тестовых данных.*
+ Система CI __Appveyor__
  *Простое подключение и настройка, удобная интеграция с GitHub*
+ СУБД __PostgreSQL и MySQL__
  *инструмент для управления данными.*
+ Программная платформа __Node.js__
  *Большое количество пакетов и модулей, предоставляемых менеджером пакетов npm (Node Package Manager), возможно быстро разрабатывать и внедрять новые функциональности для приложения.*
+ Плагины:

  + __JavaFaker__
  *Библиотека, которая позволяет генерировать случайные тестовые данные. Может быть полезной для тестирования когда требуется создание большого количества случайных данных.*

  + __Lombok__
 *упрощает написание кода благодаря использованию аннотаций, которые генерируют геттеры, сеттеры, конструкторы и другие методы автоматически. Это сокращает время на разработку, уменьшает количество ошибок и делает код более наглядным.*

+ __Allure Report__
 *Система подготовки отчётов. Бесплатное решение. Хорошая информативная визуализация отчётов. Позволяет отслеживать данные на протяжении времени.*


## Перечень и описание возможных рисков при автоматизации;
1. Использование захардкоженных номеров карт может привести к ошибкам в работе реальной системы, т.к. существуют банковские карты (с 14-значными и с 18-значными).
1. Использование двух БД может привести к ошибкам.
1. Веб-сервис может зависеть от внешних систем, таких как банковские сервисы (Payment Gate, Credit Gate).

## Интервальная оценка с учётом рисков в часах;
1. Планирование автоматизации тестирования - 7-8 часов
1. Настройка окружения и подготовка тестовых данных - 6 часов
1. Написание кода тестов - 63-87 часов
1. Подготовка отчётных документов по итогам автоматизированного тестирования - 11-18 часов
1. Подготовка отчётных документов по итогам автоматизации - 7-9 часов
1. Отладка и исправление ошибок: 11 часов.

## План сдачи работ: когда будут готовы автотесты, результаты их прогона;
1. Готовность авто-тестов - через 15 дней после утверждения плана тестирования.
2. Отчётные документы по итогам тестирования - через 2 дня после готовности авто-тестов.
3. Подготовка отчета по итогам автоматизации - через 2 дня после готовности авто-тестов.
